<nav class="navbar navbar-dark navbar-expand bg-blue sticky-top">
  <div class="container-fluid">
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ng-container *ngIf="loggedIn; then app; else login"></ng-container>
      <ng-template #app>
        <ng-container *ngIf="loggedIn && loggedIn != '***loading***'">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" routerLink="/anime" routerLinkActive="active">
                <myanili-icon class="me-2" name="film"></myanili-icon>
                <span class="d-none d-sm-inline">Watch</span>
              </a>
            </li>
            <li class="nav-item dropdown" ngbDropdown>
              <a class="nav-link" routerLink="/manga" routerLinkActive="active">
                <myanili-icon class="me-2" name="book-half"></myanili-icon>
                <span class="d-none d-sm-inline">Read</span>
              </a>
            </li>
          </ul>
          <span class="navbar-brand me-0">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 16 24"
              height="32"
              fill="currentColor"
              class="me-2 align-bottom"
            >
              <path
                d="M11.56 4.107c-.199.003-.306.413-.455 1.758-.1.901-.098 1.57.004 1.842.046.122.208.237.467.334.219.082.857.06 1.028-.037.178-.1.332-.245.306-.287-.013-.021-.001-.05.026-.067.15-.093-.032-1.31-.29-1.93l-.128-.312c-.274-.674-.733-1.298-.956-1.3h-.001zm-7.23.123c-.042-.001-.094.04-.21.147-.293.264-.549.677-.776 1.248l-.164.41c-.155.39-.282 1.138-.256 1.506.022.32.13.5.379.627.232.12.854.094 1.154-.047.477-.224.518-.666.258-2.736-.081-.646-.178-.991-.309-1.11-.03-.028-.05-.044-.076-.045zm7.992 4.557c-.211.001-.45.024-.746.068-.723.11-1.097.382-1.097.803 0 .325.342.693.732.787.383.093 1.153.084 1.623-.02.35-.076.426-.113.596-.282.163-.164.198-.232.215-.428.012-.153-.006-.277-.053-.356a2.756 2.756 0 01-.121-.224c-.063-.138-.205-.211-.559-.287a2.658 2.658 0 00-.59-.06zm-8.26.197c-.518.001-1.17.116-1.388.256-.434.277-.547.62-.32.979.13.206.409.415.613.459.064.014.43.018.814.01.748-.018 1.21-.123 1.426-.323.128-.119.225-.43.186-.605-.12-.533-.386-.716-1.118-.768a2.813 2.813 0 00-.213-.008zm8.85 1.971c-.165-.004-.458.014-1.035.049-1.09.066-1.206.116-1.055.447.069.151.256.235.694.313.42.074 1.287-.085 1.574-.29.192-.136.23-.322.09-.435-.064-.052-.102-.08-.268-.084zm-8.158.178c-.2-.004-.533.014-1.113.053-.968.064-1.082.126-.897.484.056.107.128.151.348.209.477.125.982.092 1.638-.11.348-.106.53-.393.352-.554-.058-.052-.127-.078-.328-.082zm7.588 1.203c-.04 0-.085 0-.135.002-.242.005-.469.031-.504.06-.035.03-.085.04-.111.024-.072-.045-.232.073-.367.267-.114.163-.123.22-.149 1.012-.027.823.087 3.74.153 3.912.067.177.273.046.43-.277.335-.693.774-2.014.945-2.844.109-.531.285-1.632.285-1.78a.355.355 0 00-.121-.269c-.098-.09-.146-.11-.426-.107zm-8.631.113a.881.881 0 00-.303.037c-.293.122-.318.322-.156 1.243.21 1.188.4 1.952.625 2.498.022.053.053.14.066.193.078.302.485 1.196.62 1.361.088.108.22.07.248-.072.067-.348.134-2.29.119-3.434-.02-1.459-.028-1.501-.377-1.673-.185-.091-.56-.152-.842-.153zM9.238 19c-.26-.002-.593.002-1.029.008-1.331.019-1.582.035-1.705.103a.767.767 0 01-.178.078c-.082.001-.375.229-.422.329-.198.42.085.695.912.884.294.068.557.08 1.399.07.626-.007 1.092-.035 1.18-.068.079-.03.281-.092.449-.138.241-.067.343-.126.494-.29.256-.277.26-.458.01-.699-.219-.21-.331-.271-1.11-.277zm-.87 2.027c-.439.003-.9.019-1.085.047-.428.066-.525.115-.506.252.02.134.269.258.7.348.727.151 1.66.01 1.945-.293.132-.141.093-.262-.104-.317-.096-.027-.513-.039-.95-.037z"
              />
            </svg>
            <span class="d-none d-sm-inline">MyAniLi</span>
          </span>
          <div class="d-flex align-items-center ms-auto">
            <div class="d-flex cursor-pointer" *ngIf="user">
              <span class="my-auto me-3 text-white">{{ user!.name }}</span>
              <myanili-notifications></myanili-notifications>
              <img
                [src]="user!.picture"
                style="height: 32px; border-radius: 50%"
                alt="{{ user!.name }}"
                (click)="showSettings()"
              />
            </div>
          </div>
        </ng-container>
      </ng-template>
      <ng-template #login>
        <div></div>
        <span class="navbar-brand me-0">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 16 24"
            height="32"
            fill="currentColor"
            class="me-2 align-bottom"
          >
            <path
              d="M11.56 4.107c-.199.003-.306.413-.455 1.758-.1.901-.098 1.57.004 1.842.046.122.208.237.467.334.219.082.857.06 1.028-.037.178-.1.332-.245.306-.287-.013-.021-.001-.05.026-.067.15-.093-.032-1.31-.29-1.93l-.128-.312c-.274-.674-.733-1.298-.956-1.3h-.001zm-7.23.123c-.042-.001-.094.04-.21.147-.293.264-.549.677-.776 1.248l-.164.41c-.155.39-.282 1.138-.256 1.506.022.32.13.5.379.627.232.12.854.094 1.154-.047.477-.224.518-.666.258-2.736-.081-.646-.178-.991-.309-1.11-.03-.028-.05-.044-.076-.045zm7.992 4.557c-.211.001-.45.024-.746.068-.723.11-1.097.382-1.097.803 0 .325.342.693.732.787.383.093 1.153.084 1.623-.02.35-.076.426-.113.596-.282.163-.164.198-.232.215-.428.012-.153-.006-.277-.053-.356a2.756 2.756 0 01-.121-.224c-.063-.138-.205-.211-.559-.287a2.658 2.658 0 00-.59-.06zm-8.26.197c-.518.001-1.17.116-1.388.256-.434.277-.547.62-.32.979.13.206.409.415.613.459.064.014.43.018.814.01.748-.018 1.21-.123 1.426-.323.128-.119.225-.43.186-.605-.12-.533-.386-.716-1.118-.768a2.813 2.813 0 00-.213-.008zm8.85 1.971c-.165-.004-.458.014-1.035.049-1.09.066-1.206.116-1.055.447.069.151.256.235.694.313.42.074 1.287-.085 1.574-.29.192-.136.23-.322.09-.435-.064-.052-.102-.08-.268-.084zm-8.158.178c-.2-.004-.533.014-1.113.053-.968.064-1.082.126-.897.484.056.107.128.151.348.209.477.125.982.092 1.638-.11.348-.106.53-.393.352-.554-.058-.052-.127-.078-.328-.082zm7.588 1.203c-.04 0-.085 0-.135.002-.242.005-.469.031-.504.06-.035.03-.085.04-.111.024-.072-.045-.232.073-.367.267-.114.163-.123.22-.149 1.012-.027.823.087 3.74.153 3.912.067.177.273.046.43-.277.335-.693.774-2.014.945-2.844.109-.531.285-1.632.285-1.78a.355.355 0 00-.121-.269c-.098-.09-.146-.11-.426-.107zm-8.631.113a.881.881 0 00-.303.037c-.293.122-.318.322-.156 1.243.21 1.188.4 1.952.625 2.498.022.053.053.14.066.193.078.302.485 1.196.62 1.361.088.108.22.07.248-.072.067-.348.134-2.29.119-3.434-.02-1.459-.028-1.501-.377-1.673-.185-.091-.56-.152-.842-.153zM9.238 19c-.26-.002-.593.002-1.029.008-1.331.019-1.582.035-1.705.103a.767.767 0 01-.178.078c-.082.001-.375.229-.422.329-.198.42.085.695.912.884.294.068.557.08 1.399.07.626-.007 1.092-.035 1.18-.068.079-.03.281-.092.449-.138.241-.067.343-.126.494-.29.256-.277.26-.458.01-.699-.219-.21-.331-.271-1.11-.277zm-.87 2.027c-.439.003-.9.019-1.085.047-.428.066-.525.115-.506.252.02.134.269.258.7.348.727.151 1.66.01 1.945-.293.132-.141.093-.262-.104-.317-.096-.027-.513-.039-.95-.037z"
            />
          </svg>
          <span class="d-none d-sm-inline">MyAniLi</span>
        </span>
        <div class="d-flex ms-auto">
          <button class="btn btn-primary" (click)="malService.login()">
            <myanili-icon name="person"></myanili-icon>
            Login
          </button>
        </div>
      </ng-template>
    </div>
  </div>
</nav>
